<!--<!DOCTYPE html>-->
<!--&lt;!&ndash; Preparing search using asynchronous "fetch" (no page reload, no wait)-->
<!--inspiration from https://www.youtube.com/watch?v=QKcVjdLEX_s-->
<!--&ndash;&gt;-->
<!--<html xmlns:layout="http://www.w3.org/1999/xhtml"-->
<!--      xmlns:th="http://www.w3.org/1999/xhtml"-->
<!--      layout:decorate="~{layout}" lang="en">-->

<!--<div layout:fragment="head" th:remove="tag">-->
<!--    <title>College Search</title>-->
<!--</div>-->

<!--<div layout:fragment="body" th:remove="tag">-->
<!--    <div class="container py-4 bg-primary">-->
<!--        &lt;!&ndash; heading &ndash;&gt;-->
<!--        <header class="pb-3 mb-4 border-bottom">-->
<!--            <a href="#" class="d-flex align-items-center text-light text-decoration-none">-->
<!--                <span class="fs-4">Search Colleges</span>-->
<!--            </a>-->
<!--        </header>-->
<!--        &lt;!&ndash; search box &ndash;&gt;-->
<!--        <div class="container">-->
<!--            <div class="row">-->
<!--                <div class="col">-->
<!--                    <div class="mb-3">-->
<!--                        <div class="form-group">-->
<!--                            <input type="text" class="form-control" id="term" placeholder="enter search term">-->
<!--                            <label></label> &lt;!&ndash; used for spacer &ndash;&gt;-->
<!--                        </div>-->
<!--                        <button class="btn btn-primary bg-secondary" onclick="search_data();">Search</button>-->
<!--                    </div>-->
<!--                </div>-->
<!--            </div>-->
<!--        </div>-->
<!--    </div>-->
<!--    &lt;!&ndash; result of search &ndash;&gt;-->
<!--    <div class="container">-->
<!--        <div class="row" id="result">-->
<!--        </div>-->
<!--    </div>-->

<!--    <script>-->
<!--        function search_data() {-->
<!--            // fetch standard requires data set to a name-value pair-->
<!--            const term = document.getElementById("term");-->
<!--            const body = {-->
<!--                term: term.value,-->
<!--                foo: "bar"-->
<!--            };-->

<!--            // fetch call with header options-->
<!--            fetch('/api/college_search', {-->
<!--                method: "POST",-->
<!--                credentials: "include",-->
<!--                body: JSON.stringify(body),-->
<!--                cache: "no-cache",-->
<!--                headers: new Headers({-->
<!--                    "content-type": "application/json"-->
<!--                })-->
<!--            })-->
<!--                // async then replies with response header-->
<!--                .then(function (response) {-->
<!--                    // prepare HTML search result container for new output-->
<!--                    const resultContainer = document.getElementById("result");-->
<!--                    // clean up from previous search-->
<!--                    while (resultContainer.firstChild) {-->
<!--                        resultContainer.removeChild(resultContainer.firstChild);-->
<!--                    }-->
<!--                    // trap error response from Web API-->
<!--                    if (response.status !== 200) {-->
<!--                        const errorMsg = 'Database response error: ' + response.status;-->
<!--                        console.log(errorMsg);-->
<!--                        const div = document.createElement("div");-->
<!--                        div.innerHTML = errorMsg;-->
<!--                        resultContainer.appendChild(div);-->
<!--                        return;-->
<!--                    }-->
<!--                    // response contains valid result-->
<!--                    response.json().then(function(data) {-->
<!--                        // loop through JSON and build HTML output-->
<!--                        for (let i = 0; i < data.length; i++) {-->
<!--                            const div = document.createElement("div");-->
<!--                            div.innerHTML = data[i].name + ' ' + data[i].email;-->
<!--                            resultContainer.appendChild(div);-->
<!--                        }-->
<!--                    })-->
<!--                })-->
<!--        }-->
<!--    </script>-->
<!--</div>-->